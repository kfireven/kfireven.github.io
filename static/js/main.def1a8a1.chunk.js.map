{"version":3,"sources":["App.js","logo.png","components/Search/searchReducers.js","app/store.js","components/Search/searchActions.js","components/Search/Search.jsx","index.js"],"names":["App","props","className","Navbar","Brand","src","width","height","children","initialState","searchResults","history","createBrowserHistory","reducers","combineReducers","search","state","action","type","Object","assign","router","connectRouter","store","createStore","applyMiddleware","thunk","routerMiddleware","updateSearchList","res","Search","useState","searchValue","setSearchValue","filterValue","setFilterValue","preFilterSearchResults","setPreFilterSearchResults","sortValue","setSortValue","resultsOffset","setResultsOffset","useSelector","dispatch","useDispatch","useEffect","perfomSearch","input","name","searchByNameAPI","then","Form","onSubmit","_","FormControl","placeholder","value","onChange","e","target","DropdownButton","id","size","window","screen","onSelect","arr","filter","result","toLowerCase","includes","artists","searchFilterChanged","title","Dropdown","Item","eventKey","sort","a","b","nameA","nameB","toUpperCase","searchSortChanged","Button","disabled","length","Table","map","university","index","album","images","url","Date","release_date","getFullYear","controls","preview_url","style","float","onClick","ReactDOM","render","StrictMode","exact","path","document","getElementById"],"mappings":"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","file":"static/js/main.def1a8a1.chunk.js","sourcesContent":["import React, { useEffect } from \"react\";\n\nimport logo from './logo.png';\nimport { Navbar } from 'react-bootstrap';\nimport './App.scss';\n\nfunction App(props) {\n  return (\n    <div className=\"App\">\n      <Navbar className=\"Navbar\">\n        <Navbar.Brand>\n          <img\n            src={logo}\n            width=\"165px\"\n            height=\"30px\"\n          />\n        </Navbar.Brand>\n      </Navbar>\n      { props.children }\n    </div>\n  );\n}\n\nexport default App;\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKkAAAAgCAMAAABetKgNAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHIUExURcP33fD99vH99/D99+f78ZvyyNL55tv66+n88/////L996Lzy/P9+Ob88b/328v44uP77/7+/u789uf88uv89Pr+/Pv+/Z7zya300q310qv00Zryx6X0za710pfyxaz00aLzzLH11O789fT9+fX9+vX9+ff++q/10/L9+P3+/vz+/df56fb9+t777J/zytr66/j++/b++uj88qn0z+j889X55/T9+O/99q300bL11L322tD55eH77pnyxtP559P55t367OL77/n++/n+/P7//u799eb78dz669j66v3+/bT11d767ML33Z3yybH109j56dr66uD77qXzzqbzzqTzzaXzzdn66t/77dj66e399dH55uz89Mj44Nf66ff++7b1157yx6n00LD10rb21/v+/Mn44cD33KDzy+T78KDzyuz89fj9++X78KHzy9H55ff9+r/33JzyycH33cz447v22sX335rxxZbyxcj44cn34J7yyaDyyrP11aPzzOv889f66Nb56Jjyxt/67dX56M3449T555fyxrD109z67Lf219767c745MP33rX11qz00t777bX21pvyx+n88p/yyrL11aHzypbyxAAAAGgx078AAACYdFJOU/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8AxWnMuQAAAAlwSFlzAAAOwwAADsMBx2+oZAAABIZJREFUWEfVl/9bFFUYxYUNthEIJwFBcjXXIcWNwFIiGGXJNEtKQ1lNsG+QUWHfsywqtCzLsi/a/Xc7533fmdnZZ3fbhx941jPPs/dzz73uHt9778ywxT0oesCSbmlpzYhaH3KuLeJMu8zYZGX508YpMenDXqytznUYQp06Z1PVxR82TglJH5FUqnRSr9tmbaLqJd3mJ2JSQ+pRm7WJ2s7fNU4JSXukfKqKmvbarGZQ/aR9NquadvQPqPrNSLSzf9DosV07jeoqt3tgwLCmKpLiDO0xpOKkj+/N7wtMQzSe2H/A5njecEbmHAyCQuDck619nnegZcS5pzK9vueNbuPgyJiOUocKQTD2NOAZtIdxoo8M81vGZfDZiYmJ55yb6AyCfWPiTOKfBlPlSXtGclKKwTB3FL9ARUmPaddEx9BUoDVNKs6IgR/OPm/kTWJQVuo4pzn3Apm1Hkc7doI9kdyctpPQnmT7Ip1T6khSn1eRbqSX1IuSai+6YGTL+7hehjdd1k9d3O0dQvwuJCVrUnHj6zS8LhJnHUc7nHMuz5GsJpVj7s9yOJZ6lvQV6fS8ekbE1dxP4+xrc3PnzmdkEN60gD8zdbZPyd87r4N7ojuKfBuSQpJUTD9fujAlcBFeF4GzXidgR7BhtZPVRyfbMk5dAqpnSRfIi8qqy3SMiWRZ/WN03iDl3yTKbn7Ldn+11ffeFq+beBmQ3E8l1ztFfu5CN5V0Sck7V5F0mYxtnmiUjjExThrGlu4m+S/h9NTcp/YtbUSe1STpIEkkz8pk9dGJVu18xeovk99VVo3SMSbGq38ltt4TmiEyKduqq6/eClFqmnjvE6El7NaKmuL2Iqpa01TSD+gYE+OaalLSh0JyK2igpqtEJpVbgXq6cp53VTobrOlHdIyJ5IqaWlJiAzVdJcrqJ54bIvv+gnSq1hRJFZZkzsZqaqtPbKCmV4gVNZUvhGak13hNP1ZWbWyfnhLLXSQ3UFOSSJ5eqZravvA+iWpavk8/VVbVPPu19qk+o8VyBWK1fZo++4dIk5f4uQPdVNK5zxag5c+B6tnqf0Ee/xJ0rWPgKz7i8nS+lkG54XFd6ya9ztYrnV5eLEq+micqTio/WnDfsGFRZfXlUfYth2OpZzVd0150wSmW93F9B2+aZKsPivYpGEkdXlZSl64+SKYhKVjvUubJrBXntrKdL6+pveioFtWzpFqZWDB2G5qWeMOve6Lc9wTRaMDP/6vpD2wR0K3zRQtOktTzbly9+SOGDrb/1GtOlPTWkBkiOkeNVT/Tqrv6znWSoF/cLTZ8q62W1N6lbrPRsZukE5pUCi0Xnlv61qOX7VPo9oVf53+78/sfWA7TnZOlu1TpzJ/mhGHIrQ+tAJXWB8PQ3n1m20s3uvHaikeneTlM6yBAs2H4lzyL1FtbD8M2GUAiWNd1nyaq+DsqqmkzCEn/lkKrKv46kTfkJhGSHrYCUhU1vWuzmkFI6uRwqdI19a/ppKYQk/7TGh+hI9jLEXuFezqnOcSk0P0R0SqP25rxvzrULLKkTS/n/gNstXEjPPKYUQAAAABJRU5ErkJggg==\"","const initialState = {\r\n    searchResults: []\r\n}\r\n\r\nexport const search = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case 'UPDATE_SEARCH_LIST':\r\n            return Object.assign({}, state, { searchResults: action.searchResults });\r\n        default:\r\n            return state;\r\n    }\r\n};","import { createStore, applyMiddleware, combineReducers } from \"redux\";\nimport thunk from \"redux-thunk\";\nimport { routerMiddleware, connectRouter } from 'connected-react-router'\nimport { createBrowserHistory } from 'history';\n\nimport { search } from '../components/Search/searchReducers';\n\nexport const history = createBrowserHistory();\n\nconst reducers = combineReducers({\n    search,\n    router: connectRouter(history)\n});\n\nconst store = createStore(\n  reducers,\n  {},\n  applyMiddleware(thunk, routerMiddleware(history))\n);\n\nexport default store;","import { searchByNameAPI } from '../../app/apis';\r\n\r\nexport const search = (name, resultsOffset) =>\r\n    (dispatch) => {\r\n        searchByNameAPI(name, resultsOffset).then(res => {\r\n        dispatch(updateSearchList(res));\r\n    });\r\n};\r\n\r\nexport const updateSearchList = res => {\r\n    return {\r\n        type: 'UPDATE_SEARCH_LIST',\r\n        searchResults: res\r\n    };\r\n};","import React, { useState, useEffect, useRef } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { Container, Button, Form, Table, FormControl, Dropdown, DropdownButton } from \"react-bootstrap\";\r\nimport { search, updateSearchList } from './searchActions';\r\nimport { initalhUniversityList } from '../../app/apis';\r\nimport ReactPlayer from 'react-player';\r\nimport './searchStyles.scss';\r\n\r\nfunction Search() {\r\n    \r\n    const [searchValue, setSearchValue] = useState('');\r\n    const [filterValue, setFilterValue] = useState('none');\r\n    const [preFilterSearchResults, setPreFilterSearchResults] = useState({});\r\n    const [sortValue, setSortValue] = useState('');\r\n    const [resultsOffset, setResultsOffset] = useState(0);\r\n\r\n    const searchResults = useSelector(state => state.search.searchResults);\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        if(filterValue == 'none')\r\n            setPreFilterSearchResults(searchResults);\r\n    }, [searchResults]);\r\n\r\n    useEffect(() => {\r\n        if(searchValue)\r\n            perfomSearch(searchValue);\r\n    }, [resultsOffset]);\r\n    \r\n    const fillTable = (university, index) => {\r\n        return (\r\n            <tr key={index}>\r\n                <td ><img src={university.album.images[2].url}/></td>\r\n                <td >{university.name}</td>\r\n                <td >{university.artists[0].name}</td>\r\n                <td >{university.album.name}</td>\r\n                <td >{new Date(university.album.release_date).getFullYear()}</td>\r\n                <td ><ReactPlayer controls=\"true\" height=\"25px\" width=\"80px\" url={university.preview_url}/></td>\r\n           </tr>\r\n        )\r\n    }\r\n\r\n    const perfomSearch = (input) => {\r\n        dispatch(search(input, resultsOffset));\r\n    }\r\n\r\n    const searchFilterChanged = (value) => {\r\n        setFilterValue(value);\r\n        var arr = preFilterSearchResults;\r\n\r\n        if (value == 'track') {\r\n            arr = arr.filter( result => {\r\n                return result.name.toLowerCase().includes(searchValue.toLowerCase());\r\n            });\r\n        } else if (value == 'artist'){\r\n            arr = arr.filter( result => {\r\n                return result.artists[0].name.toLowerCase().includes(searchValue.toLowerCase());\r\n            });\r\n        }\r\n\r\n        dispatch(updateSearchList(arr));\r\n    }\r\n\r\n    const searchSortChanged = (value) => {\r\n        setSortValue(value);\r\n\r\n        searchResults.sort(function(a, b) {\r\n            var nameA;\r\n            var nameB;\r\n\r\n            if (value == 'track') {\r\n                nameA = a.name.toUpperCase();\r\n                nameB = b.name.toUpperCase();\r\n            }   else {\r\n                nameA = a.artists[0].name.toUpperCase();\r\n                nameB = b.artists[0].name.toUpperCase();\r\n            }\r\n\r\n            if (nameA < nameB) {\r\n              return -1;\r\n            }\r\n            if (nameA > nameB) {\r\n              return 1;\r\n            }\r\n          \r\n            // names must be equal\r\n            return 0;\r\n          });\r\n\r\n          dispatch(updateSearchList(searchResults));\r\n    }\r\n\r\n    return (\r\n        <div className=\"search\">\r\n            <Form className=\"search-bar\" onSubmit={ _ => perfomSearch(searchValue) }>\r\n                <FormControl className=\"search-input\" type=\"text\" placeholder=\"Search\" value={searchValue} onChange={e => setSearchValue(e.target.value)}/>\r\n                \r\n                <DropdownButton id=\"bootsrtap-buttons\" size={window.screen.width >= 800 ? null : 'sm'} onSelect={ value => searchFilterChanged(value) } title=\"Filter\">\r\n                    <Dropdown.Item className={filterValue == 'none' ? 'dropdown-selected' : 'dropdown-notselected'} eventKey=\"none\">None</Dropdown.Item>\r\n                    <Dropdown.Item className={filterValue == 'track' ? 'dropdown-selected' : 'dropdown-notselected'} eventKey=\"track\">Song</Dropdown.Item>\r\n                    <Dropdown.Item className={filterValue == 'artist' ? 'dropdown-selected' : 'dropdown-notselected'} eventKey=\"artist\">Artist</Dropdown.Item>\r\n                </DropdownButton>\r\n               \r\n                <DropdownButton id=\"bootsrtap-buttons\" size={window.screen.width >= 800 ? null : 'sm'} onSelect={ value => searchSortChanged(value) } title=\"Sort by\">\r\n                    <Dropdown.Item className={sortValue == 'track' ? 'dropdown-selected' : 'dropdown-notselected'} eventKey=\"track\">Song name</Dropdown.Item>\r\n                    <Dropdown.Item className={sortValue == 'artist' ? 'dropdown-selected' : 'dropdown-notselected'} eventKey=\"artist\">Artist name</Dropdown.Item>\r\n                </DropdownButton>\r\n                \r\n                <Button id=\"bootsrtap-buttons\" size={window.screen.width >= 800 ? null : 'sm'} disabled={searchValue.length < 2} type=\"submit\">Search</Button>\r\n            </Form>\r\n            \r\n            <div className=\"search-table\">\r\n            <Table>\r\n                <thead>\r\n                    <tr>\r\n                    <th></th>\r\n                    <th>Song</th>\r\n                    <th>Artist</th>\r\n                    <th>Album</th>\r\n                    <th>Year</th>\r\n                    <th>Preview</th> \r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {searchResults ? searchResults.map(fillTable) : <b>Can't fetch data. Spotify's frontend token might have expired. Please refresh the token by refreshing the page (F5).</b>}\r\n                </tbody>\r\n            </Table>\r\n            </div>\r\n           \r\n            <div className=\"buttom-buttons\">\r\n                <Button id=\"bootsrtap-buttons\" size={window.screen.width >= 800 ? null : 'sm'} disabled={resultsOffset <= 0} style={{float: 'left'}} onClick={ _ => setResultsOffset(resultsOffset - 15)}>Previous 15</Button>\r\n                <Button id=\"bootsrtap-buttons\" size={window.screen.width >= 800 ? null : 'sm'} style={{float: 'right'}} onClick={ _ => setResultsOffset(resultsOffset + 15)}>Next 15</Button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Search;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport store from './app/store';\nimport { history } from './app/store';\nimport { Provider } from 'react-redux';\nimport { ConnectedRouter } from 'connected-react-router';\nimport { Route, Switch } from 'react-router';\n\nimport Search from './components/Search/Search';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n    <App>\n    <ConnectedRouter history={history}>\n    <Switch>\n      <Route exact path=\"/\" render={() => (<Search/>)}/>\n    </Switch>\n    </ConnectedRouter>\n    </App>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}